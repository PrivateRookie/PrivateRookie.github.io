<!DOCTYPE HTML>
<html lang="zh" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ä½¿ç”¨nomå†™parser - å¤œé›¨ç§‹ç¯å½•</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="../favicon.svg">
        
        
        <link rel="shortcut icon" href="../favicon.png">
        
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        
        <link rel="stylesheet" href="../css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="../fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../å¯¼è¨€.html">å¯¼è¨€</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="../æ–‡ç« .html"><strong aria-hidden="true">1.</strong> æ–‡ç« </a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../posts/2018-06-24-openstackåˆ›å»ºè™šæ‹Ÿæœºæºç é˜…è¯».html"><strong aria-hidden="true">1.1.</strong> openstackåˆ›å»ºè™šæ‹Ÿæœºæºç é˜…è¯»</a></li><li class="chapter-item expanded "><a href="../posts/2018-06-27-Bottle-æ¡†æ¶ä¸­è£…é¥°å™¨ç±»å’Œæè¿°ç¬¦åº”ç”¨.html"><strong aria-hidden="true">1.2.</strong> Bottle-æ¡†æ¶ä¸­è£…é¥°å™¨ç±»å’Œæè¿°ç¬¦åº”ç”¨</a></li><li class="chapter-item expanded "><a href="../posts/2019-04-17-ä½¿ç”¨devpiæ­å»ºæœ¬åœ°æº.html"><strong aria-hidden="true">1.3.</strong> ä½¿ç”¨devpiæ­å»ºæœ¬åœ°æº</a></li><li class="chapter-item expanded "><a href="../posts/2019-04-20-Pythonå±•å¼€åµŒå¥—åºåˆ—.html"><strong aria-hidden="true">1.4.</strong> Pythonå±•å¼€åµŒå¥—åºåˆ—</a></li><li class="chapter-item expanded "><a href="../posts/2019-04-20-pipenv-ä½¿ç”¨ç®€ä»‹.html"><strong aria-hidden="true">1.5.</strong> pipenv-ä½¿ç”¨ç®€ä»‹</a></li><li class="chapter-item expanded "><a href="../posts/2019-04-22-æ·±åº¦ç³»ç»Ÿrustå¼€å‘ç¯å¢ƒæ­å»º.html"><strong aria-hidden="true">1.6.</strong> æ·±åº¦ç³»ç»Ÿrustå¼€å‘ç¯å¢ƒæ­å»º</a></li><li class="chapter-item expanded "><a href="../posts/2019-05-01-miniserve-miniserveç®€å•ç¾è§‚çš„æ–‡ä»¶æœåŠ¡å™¨.html"><strong aria-hidden="true">1.7.</strong> miniserve-miniserveç®€å•ç¾è§‚çš„æ–‡ä»¶æœåŠ¡å™¨</a></li><li class="chapter-item expanded "><a href="../posts/2019-05-05-magnum-stein-release-new-features.html"><strong aria-hidden="true">1.8.</strong> magnum-stein-release-new-features</a></li><li class="chapter-item expanded "><a href="../posts/2019-05-12-rust-rc.html"><strong aria-hidden="true">1.9.</strong> rust-rc</a></li><li class="chapter-item expanded "><a href="../posts/2019-05-20-Python-Rust-è¿­ä»£å™¨ç±»æ¯”.html"><strong aria-hidden="true">1.10.</strong> Python-Rust-è¿­ä»£å™¨ç±»æ¯”</a></li><li class="chapter-item expanded "><a href="../posts/2019-06-28-æ­å»ºetcdæœåŠ¡å‘ç°æœåŠ¡.html"><strong aria-hidden="true">1.11.</strong> æ­å»ºetcdæœåŠ¡å‘ç°æœåŠ¡</a></li><li class="chapter-item expanded "><a href="../posts/2019-07-03-OpenStackå…è®¸rootç”¨æˆ·ä½¿ç”¨ssh-keyç™»å½•.html"><strong aria-hidden="true">1.12.</strong> OpenStackå…è®¸rootç”¨æˆ·ä½¿ç”¨ssh-keyç™»å½•</a></li><li class="chapter-item expanded "><a href="../posts/2019-07-06-requirements.txtæ–‡ä»¶æŒ‡å®šä¾èµ–.html"><strong aria-hidden="true">1.13.</strong> requirements.txtæ–‡ä»¶æŒ‡å®šä¾èµ–</a></li><li class="chapter-item expanded "><a href="../posts/2019-07-10-æˆ‘ç»å¸¸ä½¿ç”¨çš„Rustå°crate.html"><strong aria-hidden="true">1.14.</strong> æˆ‘ç»å¸¸ä½¿ç”¨çš„Rustå°crate</a></li><li class="chapter-item expanded "><a href="../posts/2019-07-14-Rustæ¨¡å—ä¸æ–‡ä»¶.html"><strong aria-hidden="true">1.15.</strong> Rustæ¨¡å—ä¸æ–‡ä»¶</a></li><li class="chapter-item expanded "><a href="../posts/2019-07-18-Deepinå®‰è£…Angular10+.html"><strong aria-hidden="true">1.16.</strong> Deepinå®‰è£…Angular10+</a></li><li class="chapter-item expanded "><a href="../posts/2019-07-25-ä½¿ç”¨OSProfiler.html"><strong aria-hidden="true">1.17.</strong> ä½¿ç”¨OSProfiler</a></li><li class="chapter-item expanded "><a href="../posts/2019-07-27-windowsä¸Šä½¿ç”¨vscode-remote.html"><strong aria-hidden="true">1.18.</strong> windowsä¸Šä½¿ç”¨vscode-remote</a></li><li class="chapter-item expanded "><a href="../posts/2019-08-04-ä½¿ç”¨rust-analyzer.html"><strong aria-hidden="true">1.19.</strong> ä½¿ç”¨rust-analyzer</a></li><li class="chapter-item expanded "><a href="../posts/2019-08-16-Python-packageå®‰è£…æ—¶å®‰è£…é¢å¤–æ–‡ä»¶.html"><strong aria-hidden="true">1.20.</strong> Python-packageå®‰è£…æ—¶å®‰è£…é¢å¤–æ–‡ä»¶</a></li><li class="chapter-item expanded "><a href="../posts/2019-08-31-Rust-å‘½ä»¤è¡Œå·¥å…·.html"><strong aria-hidden="true">1.21.</strong> Rust-å‘½ä»¤è¡Œå·¥å…·</a></li><li class="chapter-item expanded "><a href="../posts/2019-09-27-Fedora-CoreOS-å°é²œ.html"><strong aria-hidden="true">1.22.</strong> Fedora-CoreOS-å°é²œ</a></li><li class="chapter-item expanded "><a href="../posts/2020-01-31-rustä»£ç é£æ ¼tips.html"><strong aria-hidden="true">1.23.</strong> rustä»£ç é£æ ¼tips</a></li><li class="chapter-item expanded "><a href="../posts/2020-02-03-log4rs-Rust-logåº“.html"><strong aria-hidden="true">1.24.</strong> log4rs-Rust-logåº“</a></li><li class="chapter-item expanded "><a href="../posts/2020-02-29-impl-Trait-vs-dyn-Trait.html"><strong aria-hidden="true">1.25.</strong> impl-Trait-vs-dyn-Trait</a></li><li class="chapter-item expanded "><a href="../posts/2020-03-04-nom-cheatsheet.html"><strong aria-hidden="true">1.26.</strong> nom-cheatsheet</a></li><li class="chapter-item expanded "><a href="../posts/2020-03-09-gitlab-runnerå¯åŠ¨å®ˆæŠ¤è¿›ç¨‹.html"><strong aria-hidden="true">1.27.</strong> gitlab-runnerå¯åŠ¨å®ˆæŠ¤è¿›ç¨‹</a></li><li class="chapter-item expanded "><a href="../posts/2020-03-21-ä½¿ç”¨nomå†™parser.html"><strong aria-hidden="true">1.28.</strong> ä½¿ç”¨nomå†™parser</a></li><li class="chapter-item expanded "><a href="../posts/2020-05-10-ä½¿ç”¨nomå†™parser.html"><strong aria-hidden="true">1.29.</strong> ä½¿ç”¨nomå†™parser</a></li><li class="chapter-item expanded "><a href="../posts/2020-06-07-ä½¿ç”¨nomå†™parser.html" class="active"><strong aria-hidden="true">1.30.</strong> ä½¿ç”¨nomå†™parser</a></li><li class="chapter-item expanded "><a href="../posts/2020-06-25-Rustå®ç°çš„æ—¥è‡³æ”¶é›†å·¥å…·.html"><strong aria-hidden="true">1.31.</strong> Rustå®ç°çš„æ—¥è‡³æ”¶é›†å·¥å…·</a></li><li class="chapter-item expanded "><a href="../posts/2020-07-19-typing+pyright-æ›´æ­£ç¡®çš„Pythonä»£ç .html"><strong aria-hidden="true">1.32.</strong> typing+pyright-æ›´æ­£ç¡®çš„Pythonä»£ç </a></li><li class="chapter-item expanded "><a href="../posts/2020-07-31-boxercrabå‘å¸ƒ.html"><strong aria-hidden="true">1.33.</strong> boxercrabå‘å¸ƒ</a></li><li class="chapter-item expanded "><a href="../posts/2020-08-16-ä½¿ç”¨nomå†™parser.html"><strong aria-hidden="true">1.34.</strong> ä½¿ç”¨nomå†™parser</a></li><li class="chapter-item expanded "><a href="../posts/2020-08-30-PowerShellé…ç½®.html"><strong aria-hidden="true">1.35.</strong> PowerShellé…ç½®</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../ç¬”è®°.html"><strong aria-hidden="true">2.</strong> ç¬”è®°</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../notes/rust/2021-10-31-åµŒå¥—è§£æ„.html"><strong aria-hidden="true">2.1.</strong> åµŒå¥—è§£æ„</a></li><li class="chapter-item expanded "><a href="../notes/rust/2021-11-06-æœªèƒ½ææ—©é‡Šæ”¾çš„RefCell.html"><strong aria-hidden="true">2.2.</strong> æœªæå‰é‡Šæ”¾çš„å¼•ç”¨</a></li><li class="chapter-item expanded "><a href="../notes/rust/2022-02-09-serdeæ”¶é›†æœªçŸ¥å­—æ®µ.html"><strong aria-hidden="true">2.3.</strong> serdeæ”¶é›†æœªçŸ¥å­—æ®µ</a></li><li class="chapter-item expanded "><a href="../notes/rust/2022-02-17-ç¼–è¯‘æœŸç¡®å®šæŸä¸ªç±»å‹æ˜¯ä¸æ˜¯Option.html"><strong aria-hidden="true">2.4.</strong> å¦‚ä½•åœ¨ç¼–è¯‘æœŸç¡®å®šæŸä¸ªç±»å‹æ˜¯ä¸æ˜¯ Option</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">å¤œé›¨ç§‹ç¯å½•</h1>

                    <div class="right-buttons">
                        
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="ä½¿ç”¨-rust-å†™-parser3-è§£æjson"><a class="header" href="#ä½¿ç”¨-rust-å†™-parser3-è§£æjson">ã€ä½¿ç”¨ Rust å†™ Parserã€‘3. è§£æJSON</a></h1>
<hr />
<p>ä¸Šä¸€ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬ä½¿ç”¨ nom è§£æäº† redis åè®®, æœ¬æ¬¡æˆ‘ä»¬å°†ä¼šå°è¯•å†™ä¸€ä¸ª JSON parse, åŒæ—¶ç†Ÿæ‚‰ nom çš„é”™è¯¯å¤„ç†.
æœ¬ç¯‡ä¾‹å­æ¥è‡ª nom å®˜æ–¹æ–‡æ¡£çš„ä¾‹å­<a href="https://github.com/Geal/nom/blob/master/examples/json.rs">nom/examples/json.rs</a>, åšäº†
ä¸€äº›ä¿®æ”¹ä»¥ä¾¿å¯ä»¥åœ¨ nom 5.1 ç‰ˆæœ¬å¯ä»¥è¿è¡Œä¸”ç¬¦åˆæ ‡å‡†æè¿°.</p>
<hr />
<p>ç»å¸¸è¿›è¡Œ web ç¼–ç¨‹çš„æƒ³å¿…éƒ½éå¸¸ç†Ÿæ‚‰ JSON, å®ƒè¢«å¹¿æ³›ç”¨äºæ•°æ®ä¼ é€’, è¦æƒ³å®ç°äº† JSON parse, æˆ‘ä»¬éœ€è¦äº†è§£å®ƒçš„æ ‡å‡†.
<a href="https://www.json.org/json-zh.html">JSONæ ‡å‡†</a>ç½‘ç«™ä¸Šç»™å‡ºéå¸¸è¯¦ç»†çš„ JSON æ ‡å‡†è§£é‡Š, è€Œä¸”è¿˜å¸¦æœ‰å›¾è¡¨(ä¸‹é¢ä½¿ç”¨çš„å›¾æ ‡å‡æ¥è‡ª https://www.json.org/json-zh.html), æˆ‘ä»¬éœ€è¦åšçš„åªæ˜¯å‚ç…§æ ‡å‡†
åˆ©ç”¨ nom ä»åŸºæœ¬å…ƒç´ å¼€å§‹ä¸€æ­¥æ­¥å®ç° JSON parse.</p>
<p><a href="https://www.json.org/json-zh.html">JSONæ ‡å‡†</a> åˆ†6éƒ¨åˆ†å¯¹ JSON æ ‡æ³¨è¿›è¡Œè§£é‡Š, ä»ç®€å•åˆ°å¤æ‚ä¸º:</p>
<ol>
<li>ç©ºç™½(whitespace)</li>
<li>æ•°å€¼(number)</li>
<li>å­—ç¬¦ä¸²(string)</li>
<li>å€¼(value)</li>
<li>æ•°ç»„(array)</li>
<li>å¯¹è±¡(object)</li>
</ol>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæšä¸¾ä»£è¡¨é™¤ç©ºç™½å¤–çš„è§£æå€¼</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[derive(Debug, PartialEq)]
pub enum JsonValue {
    Str(String),
    Boolean(bool),
    Null,
    Num(f64),
    Array(Vec&lt;JsonValue&gt;),
    Object(HashMap&lt;String, JsonValue&gt;),
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="ç©ºç™½"><a class="header" href="#ç©ºç™½">ç©ºç™½</a></h2>
<blockquote>
<p>ç©ºç™½å¯ä»¥åŠ å…¥åˆ°ä»»ä½•ç¬¦å·ä¹‹é—´</p>
</blockquote>
<p>å…¶å®Œæ•´æè¿°ä¸º</p>
<p><img src="https://www.json.org/img/whitespace.png" alt="ç©ºç™½æè¿°" /></p>
<p>å¯ä»¥çœ‹åˆ°ç©ºç™½å…ƒç´ ä¸º &quot; &quot; -&gt; space, &quot;\n&quot; -&gt; linefeed, &quot;\r&quot; -&gt; carriage return å’Œ &quot;\t&quot; ä¸­ä»»æ„ä¸€ä¸ª.
å¯¹è¾“å…¥çš„å­—ç¬¦è¿›è¡Œåˆ¤æ–­, å¦‚æœå®ƒæ˜¯4ä¸ªç©ºç™½å­—ç¬¦ä¹‹ä¸€, æ¶ˆè€—è¾“å…¥å¹¶ç»§ç»­, ç›´åˆ°é‡åˆ°å…¶ä»–å…ƒç´ , è¿™æ—¶æˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ª&quot;ç©ºç™½&quot;.</p>
<p>ä½¿ç”¨ nom çš„ <code>take_while</code> å¯ä»¥å¾ˆå¿«åœ°å¸®æˆ‘ä»¬å®ç° whitespace parse</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn sp(i: &amp;str) -&gt; IResult&lt;&amp;str, &amp;str&gt; {
    let chars = &quot; \n\r\t&quot;;
    take_while(move |c: char| chars.contains(c))(i)
}
<span class="boring">}
</span></code></pre></pre>
<p>ä½†å…¶å® nom å·²ç»è‡ªå¸¦äº†ä¸€ä¸ªç©ºç™½è§£æå‡½æ•° <code>multispace0</code>, å¯ä»¥æ ¹æ®ä¸ªäººå–œå¥½ä½¿ç”¨.</p>
<h2 id="æ•°å€¼"><a class="header" href="#æ•°å€¼">æ•°å€¼</a></h2>
<blockquote>
<p>æ•°å€¼ï¼ˆnumberï¼‰ä¹Ÿä¸Cæˆ–è€…Javaçš„æ•°å€¼éå¸¸ç›¸ä¼¼</p>
</blockquote>
<p>å…¶å®Œæ•´æè¿°ä¸º</p>
<p><img src="https://www.json.org/img/number.png" alt="æ•°å€¼æè¿°" /></p>
<p>å¯ä»¥çœ‹åˆ° JSON æ”¯æŒæ­£è´Ÿæ•°, å°æ•°å’Œç§‘å­¦è®¡æ•°æ³•, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>alt</code> å’Œ <code>be_f32</code> ç­‰è§£æå­ç»„åˆè¿›è¡Œè§£æ, ä½†å¯¹äºæ•°å€¼è§£æè¿™æ ·çš„å¸¸è§éœ€æ±‚, nom æä¾›äº†ç°æˆçš„ <a href="https://docs.rs/nom/5.1.1/nom/number/complete/fn.double.html">double</a> å‡½æ•°.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use nom::number::complete::double;

let parser = |s| {
  double(s)
};

assert_eq!(parser(&quot;1.1&quot;), Ok((&quot;&quot;, 1.1)));
assert_eq!(parser(&quot;123E-02&quot;), Ok((&quot;&quot;, 1.23)));
assert_eq!(parser(&quot;123K-01&quot;), Ok((&quot;K-01&quot;, 123.0)));
assert_eq!(parser(&quot;abc&quot;), Err(Err::Error((&quot;abc&quot;, ErrorKind::Float))));
<span class="boring">}
</span></code></pre></pre>
<p>è€Œä¸”åœ¨ nom 5 ä½¿ç”¨äº† <a href="https://crates.io/crates/lexical-core">lexical crate</a> è§£ææµ®ç‚¹æ•°, ç›¸æ¯” nom 4, æµ®ç‚¹æ•°è§£æå¿«äº† 98%, æˆ‘ä»¬å¯ä»¥æ”¾å¿ƒä½¿ç”¨ nom è¿›è¡Œæµ®ç‚¹æ•°è§£æ.</p>
<h2 id="å­—ç¬¦ä¸²"><a class="header" href="#å­—ç¬¦ä¸²">å­—ç¬¦ä¸²</a></h2>
<blockquote>
<p>å­—ç¬¦ä¸²ï¼ˆstringï¼‰æ˜¯ç”±åŒå¼•å·åŒ…å›´çš„ä»»æ„æ•°é‡Unicodeå­—ç¬¦çš„é›†åˆï¼Œä½¿ç”¨åæ–œçº¿è½¬ä¹‰ã€‚ä¸€ä¸ªå­—ç¬¦ï¼ˆcharacterï¼‰å³ä¸€ä¸ªå•ç‹¬çš„å­—ç¬¦ä¸²ï¼ˆcharacter stringï¼‰</p>
</blockquote>
<p><img src="https://www.json.org/img/string.png" alt="å­—ç¬¦ä¸²æè¿°" /></p>
<p>ä»å›¾ä¸­å¯ä»¥çœ‹åˆ°å·¦å¼•å·ä¹‹åæœ‰3ç§æƒ…å†µ, æœ€ç‰¹æ®Šçš„æƒ…å†µä¸ºä¸¤ä¸ªå¼•å·ä¹‹é—´æ— ä»»ä½•å…ƒç´ , å³ç©ºå­—ç¬¦,
å…¶ä»–ä¸¤ç§æƒ…å†µæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>delimited</code> å»æ‰ä¸¤ç«¯çš„å¼•å·, æ‹¿åˆ°å­—ç¬¦ä¸²å†…å®¹.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn string(i: &amp;str) -&gt; IResult&lt;&amp;str, &amp;str&gt; {
    context(
        &quot;string&quot;,
        alt((tag(&quot;\&quot;\&quot;&quot;), delimited(tag(&quot;\&quot;&quot;), parse_str, tag(&quot;\&quot;&quot;)))),
    )(i)
}
<span class="boring">}
</span></code></pre></pre>
<p>è¿™é‡Œä½¿ç”¨ <code>context</code> ä¸ºæˆ‘ä»¬è§£ææä¾›äº†ä¸€ä¸ªä¸Šä¸‹æ–‡ä¿¡æ¯, å› ä¸º <code>parse_str</code> å‡½æ•°æ¯”è¾ƒå¤æ‚, æ¶‰åŠå¾ˆå¤šåŸºæœ¬è§£æ, å®¹æ˜“ä¸æ•°å€¼, æ•°ç»„, å¯¹è±¡ç­‰è§£æé”™è¯¯æŠ›å‡ºçš„ä¿¡æ¯æ··æ·†,
æ·»åŠ ä¸€ä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒå¯è®©è®©æˆ‘ä»¬æ–¹ä¾¿åœ°çŸ¥é“æ˜¯åœ¨è§£æ string æ—¶å‡ºäº†é—®é¢˜.
ä¹‹åçš„æµ‹è¯•ä¸­å°†ä¼šå±•ç¤º <code>context</code> ä¸ºæˆ‘ä»¬æä¾›çš„é¢å¤–ä¿¡æ¯.</p>
<p>ç°åœ¨æˆ‘ä»¬è¦å®ç°å…³é”®çš„ <code>parse_str</code> å‡½æ•°, æˆ‘ä»¬é¢ä¸´çš„æœ€å¤§éš¾é¢˜æ˜¯å¤„ç†è½¬ä¹‰å­—ç¬¦, nom åŒæ ·ä¸ºæˆ‘ä»¬æä¾›äº†å¤„ç†è½¬ä¹‰å­—ç¬¦çš„å‡½æ•° <code>escaped</code>.
è¿™ä¸ªå‡½æ•°ç­¾åä¸º <code>escaped(normal, control, escapable)</code>, å³æ¥å—ä¸‰ä¸ªå‚æ•°, <code>normal</code> ä¸ºåˆ¤æ–­æ™®é€šå­—ç¬¦å‡½æ•°, å¿…é¡»ä¸å«æœ‰æ§åˆ¶ç¬¦ <code>control</code>, <code>escapable</code> åˆ™æ˜¯å¯ä»¥è½¬ä¹‰çš„å­—ç¬¦.
å®˜æ–¹æ–‡æ¡£çš„ä¾‹å­å¯ä»¥æ›´å½¢è±¡åœ°å±•ç¤ºå…¶ç”¨æ³•:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>use nom::bytes::complete::escaped;
use nom::character::complete::one_of;

fn esc(s: &amp;str) -&gt; IResult&lt;&amp;str, &amp;str&gt; {
  escaped(digit1, '\\', one_of(r#&quot;&quot;n\&quot;#))(s)
}

assert_eq!(esc(&quot;123;&quot;), Ok((&quot;;&quot;, &quot;123&quot;)));
assert_eq!(esc(r#&quot;12\&quot;34;&quot;#), Ok((&quot;;&quot;, r#&quot;12\&quot;34&quot;#)));
<span class="boring">}
</span></code></pre></pre>
<p>æ‰€ä»¥ <code>parse_str</code> å¯ä»¥è¿™æ ·å®ç°:</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn parse_str(i: &amp;str) -&gt; IResult&lt;&amp;str, &amp;str&gt; {
    escaped(normal, '\\', escapable)(i)
}
<span class="boring">}
</span></code></pre></pre>
<p><code>normal</code> åŒæ ·æ˜¯ä¸€ä¸ªè§£æå‡½æ•°, æŒ‰ç…§æ ‡å‡†ä¸­æè¿°çš„</p>
<blockquote>
<p>Any codepoint except &quot; or \ or control characters</p>
</blockquote>
<p>æˆ‘ä»¬åªéœ€è¦ä¸€ç›´æ¶ˆè€—è¾“å…¥, ç›´åˆ°ç¢°ä¸Š &quot; \ æˆ–æ§åˆ¶å­—ç¬¦, <code>take_till1</code> å°±å¯ä»¥å®ç°æˆ‘ä»¬çš„éœ€æ±‚, å®ƒä¸ <code>take_while</code> ç”¨æ³•ç›¸ä¼¼.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn normal(i: &amp;str) -&gt; IResult&lt;&amp;str, &amp;str&gt; {
    take_till1(|c: char| c == '\\' || c == '&quot;' || c.is_ascii_control())(i)
}
<span class="boring">}
</span></code></pre></pre>
<p>æ³¨æ„, è¿™é‡Œä½¿ç”¨äº† <code>take_till1</code>, å³è‡³å°‘éœ€è¦æ¶ˆè€—1ä¸ªchar, å¦‚æœä½¿ç”¨ <code>take_till</code>, ä¼šå¯¼è‡´ <code>escaped</code> å†…éƒ¨æ— é™å¾ªç¯, æ„Ÿå…´è¶£çš„å¯ä»¥æŸ¥çœ‹ <a href="https://docs.rs/nom/5.1.1/src/nom/bytes/complete.rs.html#446-502">escapedå®ç°æºç </a>.</p>
<p>å¤„ç†å¯è½¬ä¹‰å­—ç¬¦çš„ <code>escapable</code> å‡½æ•°é™¤äº†å¤„ç†16è¿›åˆ¶ç¨å¾®éº»çƒ¦ç‚¹å¤–, å¯ä»¥ä½¿ç”¨ <code>alt</code> å’Œ <code>tag</code> å®ç°.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn escapable(i: &amp;str) -&gt; IResult&lt;&amp;str, &amp;str&gt; {
    context(
        &quot;escaped&quot;,
        alt((
            tag(&quot;\&quot;&quot;),
            tag(&quot;\\&quot;),
            tag(&quot;/&quot;),
            tag(&quot;b&quot;),
            tag(&quot;f&quot;),
            tag(&quot;n&quot;),
            tag(&quot;r&quot;),
            tag(&quot;t&quot;),
            parse_hex,
        )),
    )(i)
}

fn parse_hex(i: &amp;str) -&gt; IResult&lt;&amp;str, &amp;str&gt; {
    context(
        &quot;hex string&quot;,
        preceded(
            peek(tag(&quot;u&quot;)),
            take_while_m_n(5, 5, |c: char| c.is_ascii_hexdigit() || c == 'u'),
        ),
    )(i)
}
<span class="boring">}
</span></code></pre></pre>
<p><code>parse_hex</code> ä½¿ç”¨äº† <code>peek</code>, è¿™ä¸ªå‡½æ•°çš„ä¸åŒä¹‹å¤„åœ¨äºå®ƒä¼šå°è¯•å¯¹è¾“å…¥åº”ç”¨è§£æå‡½æ•°, è€Œä¸æ¶ˆè€—è¾“å…¥. ä»¥ä¸Šé¢çš„ä»£ç ä¸ºä¾‹, å‡è®¾è¾“å…¥ä¸º <code>i = &quot;u1234&quot;</code>, <code>peek(tag(&quot;u&quot;)</code> åº”ç”¨ä¹‹åä¼ å…¥ <code>take_while_m_n</code> çš„è¾“å…¥ä¾ç„¶ä¸º <code>&quot;u1234&quot;</code>, è‹¥åªä½¿ç”¨<code>tag(&quot;u&quot;)</code>, <code>take_while_m_n</code> æ¥æ”¶åˆ°çš„åªæœ‰ <code>1234</code>.</p>
<h2 id="å€¼"><a class="header" href="#å€¼">å€¼</a></h2>
<blockquote>
<p>å€¼ï¼ˆvalueï¼‰å¯ä»¥æ˜¯åŒå¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²ï¼ˆstringï¼‰ã€æ•°å€¼(number)ã€trueã€falseã€ nullã€å¯¹è±¡ï¼ˆobjectï¼‰æˆ–è€…æ•°ç»„ï¼ˆarrayï¼‰ã€‚è¿™äº›ç»“æ„å¯ä»¥åµŒå¥—ã€‚</p>
</blockquote>
<p><img src="https://www.json.org/img/value.png" alt="å€¼æè¿°" /></p>
<p>å¯ä»¥çœ‹åˆ°å€¼çš„è§£ææ¯”è¾ƒç®€å•, ç©ºç™½,å­—ç¬¦ä¸²å’Œæ•°å­—çš„è§£ææˆ‘ä»¬éƒ½å·²ç»å®Œæˆäº†, å‰©ä¸‹çš„åªæœ‰åŸºæœ¬ç±»å‹ <code>true</code>, <code>false</code> å’Œ <code>null</code> ä»¥åŠå¤åˆç±»å‹ <code>object</code> å’Œ <code>array</code>.</p>
<p>å…ˆå®ŒæˆåŸºæœ¬ç±»å‹è§£æ</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn boolean(i: &amp;str) -&gt; IResult&lt;&amp;str, bool&gt; {
    let parse_true = n_value(true, tag(&quot;true&quot;));
    let parse_false = n_value(false, tag(&quot;false&quot;));
    alt((parse_true, parse_false))(i)
}

fn null(i: &amp;str) -&gt; IResult&lt;&amp;str, JsonValue&gt; {
    map(tag(&quot;null&quot;), |_| JsonValue::Null)(i)
}
<span class="boring">}
</span></code></pre></pre>
<p>åœ¨è§£æå¸ƒå°”å€¼æ—¶ä½¿ç”¨äº† <code>n_value</code>, å®ƒå…¶å®æ˜¯ <code>nom::combinator::value</code>, åªä¸è¿‡è¢«æˆ‘é‡å‘½åä¸º <code>n_value</code>, è¿™ä¸ªå‡½æ•°ä¼šåœ¨å­è§£ææˆåŠŸæ—¶è¿”å›æä¾›çš„å€¼,
ä»¥ä¸Šé¢ä»£ç ä¸ºä¾‹, å¦‚æœ <code>tag(&quot;true&quot;)</code> æˆåŠŸ, é‚£ä¹ˆ <code>n_value(true, tag(&quot;true&quot;))</code> å°†è¿”å› <code>true</code>.</p>
<p><code>object</code> å’Œ <code>array</code> çš„å®ç°æš‚æ—¶ä¸ç®¡, å€¼çš„è§£æå¯ä»¥å†™ä¸º</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn value(i: &amp;str) -&gt; IResult&lt;&amp;str, JsonValue&gt; {
    context(
        &quot;value&quot;,
        delimited(
            multispace0,
            alt((
                map(object, JsonValue::Object),
                map(array, JsonValue::Array),
                map(string, |s| JsonValue::Str(String::from(s))),
                map(double, JsonValue::Num),
                map(boolean, JsonValue::Boolean),
                null,
            )),
            multispace0,
        ),
    )(i)
}
<span class="boring">}
</span></code></pre></pre>
<p>åœ¨å®ç° <code>value</code> æ—¶ä½¿ç”¨äº†ä¸€ä¸ªå° trick, <code>map</code> çš„ç¬¬äºŒä¸ªå‚æ•°åº”è¯¥æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°, å¦‚ <code>map(string, |s| JsonValue::Str(String::from(s)))</code> è¿™æ ·çš„å†™æ³•,
ä½† Rust æšä¸¾æˆå‘˜æ„é€ å‡½æ•°æœ¬èº«å°±æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°, æ‰€ä»¥ <code>map(double, |num: f64| JsonValue::Num(num))</code> å¯ä»¥ç®€åŒ–ä¸º <code>map(double, JsonValue::Num)</code>.</p>
<h2 id="æ•°ç»„"><a class="header" href="#æ•°ç»„">æ•°ç»„</a></h2>
<blockquote>
<p>æ•°ç»„æ˜¯å€¼ï¼ˆvalueï¼‰çš„æœ‰åºé›†åˆã€‚ä¸€ä¸ªæ•°ç»„ä»¥ [å·¦ä¸­æ‹¬å· å¼€å§‹ï¼Œ ]å³ä¸­æ‹¬å· ç»“æŸã€‚å€¼ä¹‹é—´ä½¿ç”¨ ,é€—å· åˆ†éš”ã€‚</p>
</blockquote>
<p><img src="https://www.json.org/img/array.png" alt="æ•°ç»„æè¿°" /></p>
<p>æˆ‘ä»¬ç”¨ <code>delimited</code> å»æ‰å·¦å³æ–¹æ‹¬å·, ç„¶ååˆ©ç”¨ <code>separated_list</code> å¯¹æ–¹æ‹¬å·å‰‘çš„å†…å®¹è¿›è¡Œè§£æ, å¾—åˆ° <code>Vec&lt;JsonValue&gt;</code></p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn array(i: &amp;str) -&gt; IResult&lt;&amp;str, Vec&lt;JsonValue&gt;&gt; {
    context(
        &quot;array&quot;,
        delimited(
            tag(&quot;[&quot;),
            separated_list(tag(&quot;,&quot;), delimited(multispace0, value, multispace0)),
            tag(&quot;]&quot;),
        ),
    )(i)
}
<span class="boring">}
</span></code></pre></pre>
<p>éœ€è¦æ³¨æ„çš„æ˜¯, åœ¨ <code>value</code> ä¸¤ä¾§å¯èƒ½ä¼šæœ‰ç©ºç™½, å¦‚</p>
<pre><code class="language-json">{ &quot;array&quot;:                 [&quot;ab&quot;,     &quot;cd&quot;   , &quot;ef&quot; ]}
</code></pre>
<p>è¿™äº›ç©ºç™½ä¸ä¼šè¢« <code>value</code> æ¶ˆè€—, éœ€è¦å°†å…¶è§†ä¸ºæ•°ç»„æŸå…ƒç´ å†…å®¹, åœ¨è§£ææ—¶æ¶ˆè€—æ‰.</p>
<h2 id="å¯¹è±¡"><a class="header" href="#å¯¹è±¡">å¯¹è±¡</a></h2>
<blockquote>
<p>å¯¹è±¡æ˜¯ä¸€ä¸ªæ— åºçš„â€œâ€˜åç§°/å€¼â€™å¯¹â€é›†åˆã€‚ä¸€ä¸ªå¯¹è±¡ä»¥ {å·¦æ‹¬å· å¼€å§‹ï¼Œ }å³æ‹¬å· ç»“æŸã€‚æ¯ä¸ªâ€œåç§°â€åè·Ÿä¸€ä¸ª :å†’å· ï¼›â€œâ€˜åç§°/å€¼â€™ å¯¹â€ä¹‹é—´ä½¿ç”¨ ,é€—å· åˆ†éš”ã€‚</p>
</blockquote>
<p><img src="https://www.json.org/img/object.png" alt="å¯¹è±¡æè¿°" /></p>
<p>å¯¹è±¡ç»“æ„ä¸æ•°ç»„ç±»ä¼¼, ä¸åŒçš„æ˜¯æˆ‘ä»¬éœ€è¦è§£æé”®å’Œå€¼, ç„¶åæŠŠä»–ä»¬æ‹¼æ¥èµ·æ¥.
å…ˆå®ç°é”®çš„è§£æ.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn key(i: &amp;str) -&gt; IResult&lt;&amp;str, &amp;str&gt; {
    delimited(multispace0, string, multispace0)(i)
}
<span class="boring">}
</span></code></pre></pre>
<p>å€¼è§£ææˆ‘ä»¬å·²ç»å®ç°, ç°åœ¨éœ€è¦æŠŠä»–ä»¬æ‹¼èµ·æ¥</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn object(i: &amp;str) -&gt; IResult&lt;&amp;str, HashMap&lt;String, JsonValue&gt;&gt; {
    context(
        &quot;object&quot;,
        delimited(
            tag(&quot;{&quot;),
            map(
                separated_list(
                    tag(&quot;,&quot;),
                    separated_pair(key, tag(&quot;:&quot;), delimited(multispace0, value, multispace0)),
                ),
                |tuple_vec: Vec&lt;(&amp;str, JsonValue)&gt;| {
                    tuple_vec
                        .into_iter()
                        .map(|(k, v)| (String::from(k), v))
                        .collect()
                },
            ),
            tag(&quot;}&quot;),
        ),
    )(i)
}
<span class="boring">}
</span></code></pre></pre>
<p><code>object</code> å®ç°æœ‰äº›å¤æ‚, æœ€å¤–å±‚çš„ <code>delimited</code> å»æ‰å·¦å³å¤§æ‹¬å·, æ¥ç€ç”¨ <code>map</code> å¯¹ <code>separated_list</code> è§£æå¾—åˆ°çš„ <code>Vec&lt;(&amp;str, JsonValue)&gt;</code> è¿›è¡Œè½¬æ¢, å¾—åˆ°é¢„æœŸçš„ <code>Hashmap&lt;String, JsonValue&gt;</code>.</p>
<p>å¯¹äºæ¯ä¸ªé”®å€¼å¯¹æˆ‘ä»¬éƒ½ç”¨ <code>separated_pair</code> å»æ‰åˆ†éš”ç¬¦, å¾—åˆ°é”®å€¼.</p>
<p>æœ€åéœ€è¦å¯¹é¡¶å±‚ç»“æ„è¿›è¡Œè§£æ, ä¸€ä¸ªé¡¶å±‚ç»“æ„ç±»å‹åªèƒ½æ˜¯å¯¹è±¡æˆ–æ•°ç»„</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn root(i: &amp;str) -&gt; IResult&lt;&amp;str, JsonValue&gt; {
    delimited(
        multispace0,
        alt((map(object, JsonValue::Object), map(array, JsonValue::Array))),
        multispace0,
    )(i)
}
<span class="boring">}
</span></code></pre></pre>
<h2 id="æ€»ç»“"><a class="header" href="#æ€»ç»“">æ€»ç»“</a></h2>
<p>è‡³æ­¤ä¸€ä¸ª JSON parse å·²ç»å®Œæˆäº†, å¦‚æœæƒ³æŸ¥çœ‹å®Œæ•´ä»£ç å’Œæµ‹è¯•å¯ä»¥åˆ°æˆ‘çš„ repo <a href="https://github.com/PrivateRookie/jsonparse">PrivateRookie/jsonparse</a>
æŸ¥çœ‹.</p>
<p>æ•´ä¸ªé¡¹ç›®ä»£ç åŒ…æ‹¬æµ‹è¯•ä»£ç å…± 263 è¡Œ</p>
<pre><code class="language-bash">-------------------------------------------------------------------------------
 Language            Files        Lines         Code     Comments       Blanks
-------------------------------------------------------------------------------
 Markdown                1            2            2            0            0
 Rust                    2          277          254            0           23
 TOML                    1           10            7            1            2
-------------------------------------------------------------------------------
 Total                   4          289          263            1           25
-------------------------------------------------------------------------------
</code></pre>
<p>æ¯”ä¸Šæ¬¡è§£æ redis åè®®çš„é¡¹ç›®ä»£ç è¡Œæ•°è¿˜è¦å°‘, å¯è§ nom é…åˆ Rust å¯ä»¥å–å¾—å¾ˆå¥½çš„è¡¨è¾¾èƒ½åŠ›. ä½†è¿™ä¸ªé¡¹ç›®æ²¡æœ‰ç»è¿‡å®Œæ•´æµ‹è¯•, åŒæ—¶æ²¡æ²¡æœ‰è¿›è¡Œæ€§èƒ½æµ‹è¯•, æœ‰å…´è¶£çš„å¯ä»¥å»å°è¯•.</p>
<p>ä¸‹ä¸€æœŸæŒ‰è®¡åˆ’åº”è¯¥æ˜¯ä½¿ç”¨ nom å®ç°ä¸€é—¨è¯­è¨€, ä½†è¿™æ ·çš„è¯åªä»‹ç»äº† nom è§£ææ–‡æœ¬çš„èƒ½åŠ›, å…¶å® nom å¯ä»¥è§£æäºŒè¿›åˆ¶, æ¯”å¦‚ mysql binlog. ä¸‹æ¬¡ä»€ä¹ˆå†…å®¹ä»€ä¹ˆæ—¶é—´è¿˜æ˜¯çœ‹å¿ƒæƒ…å§ğŸ˜Š.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="../posts/2020-05-10-ä½¿ç”¨nomå†™parser.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="../posts/2020-06-25-Rustå®ç°çš„æ—¥è‡³æ”¶é›†å·¥å…·.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="../posts/2020-05-10-ä½¿ç”¨nomå†™parser.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="../posts/2020-06-25-Rustå®ç°çš„æ—¥è‡³æ”¶é›†å·¥å…·.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        
        <!-- Google Analytics Tag -->
        <script type="text/javascript">
            var localAddrs = ["localhost", "127.0.0.1", ""];

            // make sure we don't activate google analytics if the developer is
            // inspecting the book locally...
            if (localAddrs.indexOf(document.location.hostname) === -1) {
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-138690523-1', 'auto');
                ga('send', 'pageview');
            }
        </script>
        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../lunr.zh.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
